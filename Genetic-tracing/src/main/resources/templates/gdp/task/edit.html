<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org" >
<head>
    <th:block th:include="include :: header('查看处理任务')" />
</head>
<body class="white-bg">
    <div class="wrapper wrapper-content animated fadeInRight ibox-content">
        <form class="form-horizontal m" id="form-task-edit">
            <div class="form-group">
                <label class="col-sm-3 control-label is-required">任务实例</label>
                <div class="col-sm-8">
                    <p class="form-control-static">[[*{geneInstance.name}]]</p>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label is-required">创建者</label>
                <div class="col-sm-8">
                    <p class="form-control-static">[[*{geneInstance.createBy}]]</p>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label is-required">任务流程</label>
                <div class="col-sm-8">
                    <p class="form-control-static">[[*{geneProcess.name}]]</p>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label is-required">流程步骤</label>
                <div class="col-sm-8">
                    <p class="form-control-static">[[*{geneProcess.step}]]</p>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label is-required">流程命令</label>
                <div class="col-sm-8">
                    <p class="form-control-static">[[*{geneProcess.command}]]</p>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label is-required">流程内容</label>
                <div class="col-sm-8">
                    <p class="form-control-static">[[*{geneProcess.content}]]</p>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label is-required">运行结果</label>
                <div class="col-sm-8">
                    <p class="form-control-static" id="status"></p>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label is-required">任务耗时</label>
                <div class="col-sm-8">
                    <p class="form-control-static">[[*{geneTask.time}]]</p>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label is-required">任务记录</label>
                <div class="col-sm-8">
                    <p class="form-control-static">[[*{geneTask.record}]]</p>
                </div>
            </div>

        </form>
    </div>
    <th:block th:include="include :: footer" />
    <script th:inline="javascript">
        // var prefix = ctx + "gdp/task";
        // $("#form-task-edit").validate({
        //     focusCleanup: true
        // });
        //
        // function submitHandler() {
        //     if ($.validate.form()) {
        //         $.operate.save(prefix + "/edit", $('#form-task-edit').serialize());
        //     }
        // }
        var status = [[${geneTask.status}]];
        if (status == 1) {
            status = "成功";
        } else {
            status = "失败";
        }
        $('#status').html(status);
    </script>
</body>
</html>